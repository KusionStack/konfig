resources:
- id: apps/v1:Deployment:code-city:code-citydev
  type: Kubernetes
  attributes:
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: code-citydev
      namespace: code-city
    spec:
      replicas: 1
      selector:
        matchLabels:
          app.kubernetes.io/env: dev
          app.kubernetes.io/name: gocity
      template:
        metadata:
          labels:
            app.kubernetes.io/env: dev
            app.kubernetes.io/name: gocity
        spec:
          containers:
          - image: howieyuen/gocity:latest
            name: gocity
            ports:
            - containerPort: 4000
              protocol: TCP
  dependsOn:
  - v1:Namespace:code-city
  - v1:Service:code-city:gocity
- id: v1:Namespace:code-city
  type: Kubernetes
  attributes:
    apiVersion: v1
    kind: Namespace
    metadata:
      name: code-city
- id: v1:Service:code-city:gocity
  type: Kubernetes
  attributes:
    apiVersion: v1
    kind: Service
    metadata:
      name: gocity
      namespace: code-city
    spec:
      ports:
      - name: gocity-backend
        port: 4000
        protocol: TCP
        targetPort: 4000
      selector:
        app.kubernetes.io/env: dev
        app.kubernetes.io/name: gocity
      type: ClusterIP
  dependsOn:
  - v1:Namespace:code-city
